@import ../../css-legacy/colorlist.scss
@import src/mixins.sass

.player
  width: 100%
  height: 60vh
  border: 0.2vh solid $dgrey
  &.bg
    background: $main
    .image
      opacity: 0.2
  &:not(.bg)
    background: rgba($black, 0.2)
  > *:not(.image)
    z-index: 1
  .image
    width: 100%
    height: 100%
    position: absolute
    left: 0
    top: 0
    background-repeat: no-repeat
    background-size: cover
    opacity: 0
    filter: blur(50px)
    transition: 1s opacity, 1s background
  .controls
    width: calc(100% - 40vh)
    position: relative
    flex-direction: column
    overflow: hidden
    padding: 1vh
    .info
      flex: 1
      align-items: center
      margin-bottom: 1vh
      background: rgba($black, 0.1)
      padding: 1vh
      user-select: text
      .thumbnail
        height: 150px
        width: calc(150px / 9 * 16)
        background: rgba($black, 0.5)
        img
          width: 100%
          height: 100%
          object-fit: contain
      .d
        width: calc(100% - (150px / 9 * 16))
        height: 150px
        flex-direction: column
        justify-content: center
        padding: 0 4vh
        .title
          display: block
          width: 100%
          font-size: 2.2vh
          font-family: 'Bold'
          white-space: nowrap
          text-overflow: ellipsis
          overflow: hidden
          user-select: text
          cursor: default
        .author
          font-size: 1.8vh
          font-family: 'Bold'
          margin-top: 1vh
          color: $lgrey
          user-select: text
          cursor: default
        .details
          margin-top: 1vh
          color: $grey
          user-select: text
          cursor: default
          .el
            height: 2.5vh
            align-items: center
            background: rgba($black, 0.2)
            margin-right: 1vh
            padding: 0 1vh
            border-radius: 0.3vh
            .icon
              margin-right: 1vh
        .requested
          margin-top: 1vh
          user-select: text
          cursor: default
    .timeline
      width: 100%
      height: 3vh
      justify-content: space-between
      flex-direction: column
      margin-bottom: 1vh
      .status
        justify-content: space-between
        .duration
          color: $grey
      .timelineInner
        width: 100%
        height: 0.4vh
        position: relative
        .pl
          position: absolute
          top: 0
          left: 0
          width: 100%
          height: 0.2vh
          background: $dgrey
        .progress
          max-width: 100%
          height: 100%
          background: $white
          z-index: 1
    .buttons
      width: 100%
      height: 3.5vh
      .volume
        flex: 2
        align-items: center
        padding: 0 1vh
        background: rgba($black, 0.4)
        border-radius: 0.3vh
        .icon
          margin-right: 1vh
          img
            height: 1.6vh
            transition: 0.2s height
        .state
          width: 4vh
          justify-content: flex-end
          margin-left: 1vh
      .track
        flex: 3
        .btn
          flex: 1
          justify-content: center
          align-items: center
          cursor: pointer
          &:hover
            background: rgba($black, 0.4)
          img
            height: 1.6vh
  .queue  
    width: 40vh
    height: 100%
    background: rgba($black, 0.2)
    flex-direction: column
    padding: 1vh
    .list
      height: calc(100% - 9.5vh)
      margin-bottom: 1vh
      .noitems
        flex: 1
        justify-content: center
        align-items: center
        color: $grey
      .el
        width: 100%
        min-height: 4vh
        position: relative
        &.np
          background: rgba($grey, 0.2)
        &:hover
          .ctrl
            opacity: 1
        .d
          width: 100%
          .icon
            width: 1.4vh
            align-items: center
            margin-left: 1vh
            img
              width: 1.4vh
          .title
            flex: 1
            align-items: center
            padding: 0.5vh 1vh
          .duration
            align-items: center
            color: $grey
            padding: 0 1vh
        .ctrl
          height: 100%
          position: absolute
          right: 0
          top: 0
          opacity: 0
          backdrop-filter: blur(1vh)
          @supports not (backdrop-filter: blur(1vh))
            background: rgba($black, 0.5)
          transition: 0.2s opacity
          > *
            height: 100%
            align-items: center
            padding: 0 1vh
            cursor: pointer
            &:hover
              background: rgba($grey, 0.2)
            img
              height: 1.6vh

.searchRes
  height: 100%
  &:hover
    .d
      .title, .desc
        color: $black
  .thumbnail
    margin-right: 1vh
    height: 100%
  .icon
    margin-right: 1vh
  .d
    flex-direction: column
    .desc
      color: $grey
      font-size: 1.2vh

@include ap1
  .player .controls .info
    justify-content: center
    align-items: flex-start
    flex-direction: column
    .thumbnail
      width: 100%
      margin-bottom: 4vh
    .d
      width: 100%
      padding: 0

@include ap2
  .player
    height: auto
    flex-direction: column
    .controls
      width: 100%
      height: 55vh
      .info .thumbnail
          margin-bottom: 2vh
      .buttons
        height: 8vh
        flex-direction: column-reverse
        .track
          flex: 1
          margin-bottom: 1vh
        .volume
          flex: 1
    .queue
      width: 100%
      height: 50vh